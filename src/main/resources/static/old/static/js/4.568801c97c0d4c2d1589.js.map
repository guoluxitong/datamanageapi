{"version":3,"sources":["webpack:///./node_modules/core-js/library/fn/object/define-property.js","webpack:///./node_modules/babel-runtime/core-js/object/define-property.js","webpack:///./src/api/role.js","webpack:///./node_modules/babel-runtime/helpers/defineProperty.js","webpack:///./node_modules/core-js/library/modules/es6.object.define-property.js","webpack:///./src/api/customer.js","webpack:///src/views/employee/index.vue","webpack:///./src/utils/validate.js","webpack:///./src/views/employee/index.vue?f1c1","webpack:///./src/views/employee/index.vue"],"names":["__webpack_require__","$Object","Object","module","exports","it","key","desc","defineProperty","default","__esModule","__webpack_exports__","query","request","url","method","params","employeeId","data","id","__WEBPACK_IMPORTED_MODULE_0__utils_request__","obj","_defineProperty","_defineProperty2","value","enumerable","configurable","writable","$export","S","F","f","views_employee","_ref","_this","this","list","listQuery","total","pageNum","pageSize","realName","mobile","organizationType","label","enterpriseOption","customerOption","organiztionOption","textMap","update","create","dialogStatus","dialogFormVisible","isAvailableArray","employeeFormData","orgType","orgId","email","weiXin","qQ","password","status","mark","rules","required","validator","rule","callback","Error","trigger","test","defineProperty_default","employee","then","response","length","exist","dialogRoleFormVisible","roleFormData","roleIdArray","roleOptions","listLoading","filters","statusFilter","1","0","statusFilterLabel","filter","item","created","getList","initEnterpriseList","initCustomerList","methods","_this2","enterprise","forEach","push","enterpriseName","_this3","customer","customerName","openTableMenu","row","event","$refs","menuContext","handleFilter","_this4","resetTemp","handleCreate","_this5","$nextTick","clearValidate","handleUpdate","_this6","orgTypeChange","Number","assign_default","editData","_this7","validate","valid","console","log","$message","message","msg","type","handleDelete","_this8","$confirm","confirmButtonText","cancelButtonText","splice","indexOf","catch","handleEditRole","_this9","role","roleId","roleName","editEmployeeRole","_this10","employeeRoleList","handleSizeChange","val","handleCurrentChange","selectortype_template_index_0_src_views_employee","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","width","attrs","placeholder","model","$$v","$set","expression","_v","icon","on","click","margin-left","directives","name","rawName","element-loading-text","border","fit","highlight-current-row","row-contextmenu","align","show-overflow-tooltip","scopedSlots","_u","fn","scope","_s","_f","ref","background","current-page","page-sizes","page-size","layout","size-change","current-change","title","visible","update:visible","$event","label-position","label-width","span","change","_l","clearable","prop","slot","multiple","staticRenderFns","Component","normalizeComponent"],"mappings":"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","file":"static/js/4.568801c97c0d4c2d1589.js","sourcesContent":["require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/define-property.js\n// module id = 9bBU\n// module chunks = 3 4","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/define-property.js\n// module id = C4MV\n// module chunks = 3 4","import request from '@/utils/request'\n\nexport function getRoleListByConditionAndPage(query) {\n  return request({\n    url: '/role/rolelistbyconditionandpage',\n    method: 'get',\n    params: query\n  })\n}\n\nexport function getRoleListByCondition(query) {\n  return request({\n    url: '/role/rolelistbycondition',\n    method: 'get',\n    params: query\n  })\n}\n\nexport function getRoleListByEmployeeId(employeeId) {\n  return request({\n    url: '/role/rolelistbyemployeeid',\n    method: 'get',\n    params: {employeeId}\n  })\n}\n\nexport function editRole(data) {\n  return request({\n    url: '/role/editrole',\n    method: 'post',\n    data:data\n  })\n}\n\nexport function editRoleResource(data) {\n  return request({\n    url: '/role/editroleresource',\n    method: 'post',\n    data:data\n  })\n}\n\nexport function deleteRoleById(id) {\n  return request({\n    url: '/role/deleterolebyid',\n    method: 'post',\n    params:{id}\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/role.js","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/defineProperty.js\n// module id = bOdI\n// module chunks = 3 4","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.define-property.js\n// module id = mClu\n// module chunks = 3 4","import request from '@/utils/request'\n\nexport function getCustomerListByConditionAndPage(query) {\n  return request({\n    url: '/customer/customerlistbyconditionandpage',\n    method: 'get',\n    params: query\n  })\n}\n\nexport function getCustomerListByCondition(query) {\n    return request({\n        url: '/customer/customerlistbycondition',\n        method: 'get',\n        params: query\n    })\n}\n\nexport function editCustomer(data) {\n    return request({\n        url: '/customer/editcustomer',\n        method: 'post',\n        data:data\n    })\n}\nexport function deleteCustomerById(id) {\n    return request({\n        url: '/customer/deletecustomerbyid',\n        method: 'post',\n        params:{id}\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/customer.js","<template>\n  <div class=\"app-container employee-container\">\n    <el-row class=\"app-query\">\n      <el-input v-model=\"listQuery.realName\" placeholder=\"姓名\"  style=\"width: 150px;\"></el-input>\n      <el-input v-model=\"listQuery.mobile\" placeholder=\"电话\"  style=\"width: 150px;\"></el-input>\n      <el-button  type=\"primary\" icon=\"el-icon-search\" @click=\"handleFilter\">查询</el-button>\n      <el-button style=\"margin-left: 10px;\" @click=\"handleCreate\" type=\"primary\" icon=\"el-icon-edit\">新增</el-button>\n    </el-row>\n\n    <el-table :data=\"list\" v-loading=\"listLoading\" element-loading-text=\"给我一点时间\" border fit highlight-current-row style=\"width: 120%\" @row-contextmenu=\"openTableMenu\">\n      <el-table-column align=\"left\" :show-overflow-tooltip=\"true\" label=\"真实姓名\">\n        <template slot-scope=\"scope\">\n          <span>{{scope.row.realName}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column align=\"left\" :show-overflow-tooltip=\"true\"  label=\"手机号\">\n        <template slot-scope=\"scope\">\n          <span>{{scope.row.mobile}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column align=\"left\" :show-overflow-tooltip=\"true\" label=\"邮箱\">\n        <template slot-scope=\"scope\">\n          <span>{{scope.row.email}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column align=\"left\" :show-overflow-tooltip=\"true\"  label=\"微信\">\n        <template slot-scope=\"scope\">\n          <span>{{scope.row.weiXin}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column align=\"left\" :show-overflow-tooltip=\"true\"  label=\"QQ\">\n        <template slot-scope=\"scope\">\n          <span>{{scope.row.qQ}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" :show-overflow-tooltip=\"true\"  label=\"是否可用\">\n        <template slot-scope=\"scope\">\n          {{scope.row.status | statusFilterLabel(isAvailableArray)[0].label}}\n        </template>\n      </el-table-column>\n    </el-table>\n    <menu-context ref=\"menuContext\">\n      <menu-context-item @click=\"handleUpdate\">编辑</menu-context-item>\n      <menu-context-item @click=\"handleEditRole\">角色管理</menu-context-item>\n      <menu-context-item @click=\"handleDelete\">删除</menu-context-item>\n    </menu-context>\n    <div class=\"pagination-container\">\n      <el-pagination background @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"listQuery.pageNum\" :page-sizes=\"[5,10,15,20]\" :page-size=\"listQuery.pageSize\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"listQuery.total\">\n      </el-pagination>\n    </div>\n    <div class=\"el-dialog-employee\">\n      <el-dialog :title=\"textMap[dialogStatus]\" :visible.sync=\"dialogFormVisible\" width=\"40%\">\n        <el-form :rules=\"rules\" ref=\"employeeFormData\" :model=\"employeeFormData\" label-position=\"right\" label-width=\"80px\" style='width: 90%; margin-left:15px;'>\n          <el-row>\n            <el-col :span=\"12\">\n              <el-form-item label=\"组织类型\">\n                <el-select class=\"filter-item\" v-model=\"employeeFormData.orgType\"  style=\"width: 100%\" @change=\"orgTypeChange\">\n                  <el-option v-for=\"item in organizationType\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\n                </el-select>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item label=\"组织\">\n                <el-select clearable class=\"filter-item\" v-model=\"employeeFormData.orgId\"  style=\"width: 100%\">\n                  <el-option v-for=\"item in organiztionOption\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\n                </el-select>\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-row>\n            <el-col :span=\"12\">\n              <el-form-item label=\"真实姓名\" prop=\"realName\">\n                <el-input v-model=\"employeeFormData.realName\"></el-input>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item label=\"电话\" prop=\"mobile\">\n                <el-input v-model=\"employeeFormData.mobile\"></el-input>\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-row>\n            <el-col :span=\"12\">\n              <el-form-item label=\"邮箱\"  prop=\"email\">\n                <el-input v-model=\"employeeFormData.email\"></el-input>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item label=\"微信\" prop=\"weiXin\">\n                <el-input v-model=\"employeeFormData.weiXin\"></el-input>\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-row>\n            <el-col :span=\"12\">\n              <el-form-item label=\"QQ\" prop=\"qQ\">\n                <el-input v-model=\"employeeFormData.qQ\"></el-input>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item label=\"密码\" prop=\"password\">\n                <el-input type=\"password\" v-model=\"employeeFormData.password\"></el-input>\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-row>\n            <el-col :span=\"12\">\n              <el-form-item label=\"是否可用\" prop=\"status\">\n                <el-select class=\"filter-item\" v-model=\"employeeFormData.status\"  style=\"width: 100%\">\n                  <el-option v-for=\"item in isAvailableArray\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\n                </el-select>\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-row>\n            <el-form-item label=\"备注\">\n              <el-input type=\"textarea\" v-model=\"employeeFormData.mark\"></el-input>\n            </el-form-item>\n          </el-row>\n        </el-form>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"dialogFormVisible = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"editData\">确认</el-button>\n        </div>\n      </el-dialog>\n    </div>\n    <el-dialog title=\"角色管理\" :visible.sync=\"dialogRoleFormVisible\" width=\"30%\">\n      <el-form  ref=\"roleForm\" :model=\"roleFormData\" label-position=\"right\" label-width=\"80px\" style='width: 90%; margin-left:15px;'>\n        <el-select v-model=\"roleFormData.roleIdArray\" multiple style=\"width: 100%\" placeholder=\"请选择\">\n          <el-option v-for=\"item in roleFormData.roleOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\n        </el-select>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogRoleFormVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"editEmployeeRole\">确认</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  import {validateRealName,validatePassWord,validatePhone,validateWeiXin,validateQQ,validateEmail} from '@/utils/validate'\n  import {getEmployeeListByConditionAndPage,editEmployee,editEmployeeRole,deleteEmployeeById} from '@/api/employee'\n  import {getRoleListByCondition,getRoleListByEmployeeId} from '@/api/role'\n  import {getEnterpriseListByCondition} from '@/api/enterprise'\n  import {getCustomerListByCondition} from '@/api/customer'\n  export default {\n    data() {\n      const validateCustomerFun = (rule, value, callback) => {\n        if (!value) {\n          callback(new Error('客户不能为空'))\n        } else {\n          callback()\n        }\n      }\n      const validateRealNameFun = (rule, value, callback) => {\n        if (!value) {\n          callback(new Error('真实姓名不能为空'))\n        }else if(!validateRealName(value)){\n          callback(new Error('真实姓名必须为汉字'))\n        } else {\n          callback()\n        }\n      }\n      const validatePassWordFun = (rule, value, callback) => {\n        if (!validatePassWord(value)) {\n          callback(new Error('密码至少为6位'))\n        } else {\n          callback()\n        }\n      }\n      const validatePhoneFun = (rule, value, callback) => {\n\n        this.listQuery.mobile=value\n        getEmployeeListByConditionAndPage(this.listQuery).then(response => {\n          if(response.data.data.list.length>0){\n            var exist=1\n          }\n          if(value.length<=0){\n            callback(new Error('手机号码不能为空'))\n          }else if (!validatePhone(value)) {\n            callback(new Error('手机号码格式有误'))\n          }else if (exist==1) {\n            callback(new Error('该用户已存在'))\n          } else {\n            callback()\n          }\n        })\n      }\n      const validateWeiXinFun = (rule, value, callback) => {\n        if (value&&!validateWeiXin(value)) {\n          callback(new Error('微信格式有误'))\n        } else {\n          callback()\n        }\n      }\n      const validateQQFun = (rule, value, callback) => {\n        if (value&&!validateQQ(value)) {\n          callback(new Error('QQ格式有误'))\n        } else {\n          callback()\n        }\n      }\n      const validateEmailFun = (rule, value, callback) => {\n        if (value&&!validateEmail(value)) {\n          callback(new Error('邮箱格式有误'))\n        } else {\n          callback()\n        }\n      }\n      return {\n        list: null,\n        listQuery: {\n          total:50,\n          pageNum:1,\n          pageSize:5,\n          realName:null,\n          mobile:null,\n        },\n        organizationType: [\n          {label:\"系统管理员\",value:0},\n          {label:\"公司用户\",value:1},\n          {label:\"企业用户\",value:2},\n          {label:\"客户用户\",value:3}\n        ],\n        enterpriseOption:[],\n        customerOption:[],\n        organiztionOption:[],\n        textMap: {\n          update: '编辑',\n          create: '新增'\n        },\n        dialogStatus: '',\n        dialogFormVisible: false,\n        isAvailableArray:[\n          {value:1,label:'是'},\n          {value:0,label:'否'}\n        ],\n        employeeFormData: {\n          mobile:'',\n          orgType:'',\n          orgId:'',\n          email:'',\n          weiXin:'',\n          qQ:'',\n          realName:'',\n          password:'',\n          status:1,\n          mark:''\n        },\n        rules: {\n          orgId: [{required: true, validator: validateCustomerFun }],\n          realName: [{ trigger: 'blur',required: true, validator: validateRealNameFun }],\n          mobile: [{ required: true,trigger: 'blur',required: true, validator: validatePhoneFun }],\n          email: [{ trigger: 'blur', validator: validateEmailFun }],\n          weiXin: [{ trigger: 'blur', validator: validateWeiXinFun }],\n          qQ: [{ trigger: 'blur', validator: validateQQFun }],\n          password:[{ trigger: 'blur',required: true, validator: validatePassWordFun }]\n        },\n        dialogRoleFormVisible: false,\n        roleFormData:{\n          employeeId:'',\n          roleIdArray:[],\n          roleOptions:[],\n        },\n        listLoading:false\n      }\n    },\n    filters: {\n      statusFilter(status) {\n        const statusMap = {\n          1: 'success',\n          0: 'danger'\n        }\n        return statusMap[status]\n      },\n      statusFilterLabel(status,isAvailableArray){\n        return isAvailableArray.filter(item => {\n          return item.value==status\n        })\n      }\n    },\n    created() {\n      this.getList()\n      this.initEnterpriseList()\n      this.initCustomerList()\n    },\n    methods: {\n      initEnterpriseList(){\n        let enterpriseOption=[]\n        getEnterpriseListByCondition().then(data=>{\n          data.data.data.forEach(item=>{\n            enterpriseOption.push({value:item.id,label:item.enterpriseName})\n          })\n          this.enterpriseOption=enterpriseOption\n        })\n      },\n      initCustomerList(){\n        let customerOption=[]\n        getCustomerListByCondition().then(data=>{\n          data.data.data.forEach(item=>{\n            customerOption.push({value:item.id+\"\",label:item.customerName})\n          })\n          this.customerOption=customerOption\n        })\n      },\n      openTableMenu(row, event) {\n        this.$refs.menuContext.openTableMenu(row,event);\n      },\n      handleFilter() {\n        this.listQuery.pageNum = 1\n        this.getList()\n      },\n      getList() {\n        this.listLoading = true\n        getEmployeeListByConditionAndPage(this.listQuery).then(response => {\n          const data=response.data.data\n          this.list=data.list\n          this.listQuery.total=data.total\n          this.listQuery.pageNum=data.pageNum\n          this.listQuery.pageSize=data.pageSize\n          this.listLoading = false\n        })\n      },\n      resetTemp() {\n        this.employeeFormData = {\n          mobile:'',\n          orgType:'',\n          orgId:'',\n          email:'',\n          weiXin:'',\n          qQ:'',\n          realName:'',\n          password:'',\n          status:1,\n          mark:''\n        }\n      },\n      handleCreate() {\n        this.resetTemp()\n        this.employeeFormData.orgType=2\n        this.organiztionOption=this.enterpriseOption\n        this.dialogStatus = 'create'\n        this.dialogFormVisible = true\n        this.$nextTick(() => {\n          this.$refs['employeeFormData'].clearValidate()\n        })\n      },\n      handleUpdate(row) {\n        this.orgTypeChange(Number(row.orgType))\n        this.employeeFormData = Object.assign({}, row) // copy obj\n        this.dialogStatus = 'update'\n        this.dialogFormVisible = true\n        this.$nextTick(() => {\n          this.$refs['employeeFormData'].clearValidate()\n        })\n      },\n      orgTypeChange(value){\n        this.employeeFormData.orgId=''\n        if(value===0){\n          this.organiztionOption=[{label:'系统管理员',value:0}]\n        }else if(value===1){\n          this.organiztionOption=[{label:'公司管理员',value:0},{label:'简洁软件有限公司',value:1}]\n        }else if(value===2){\n          this.organiztionOption=this.enterpriseOption\n        }else if(value===3){\n          this.organiztionOption=this.customerOption\n        }else{\n          this.organiztionOption=[]\n        }\n      },\n      editData(){\n        this.$refs.employeeFormData.validate(valid => {\n          if (valid) {\n            editEmployee(this.employeeFormData).then(data=>{\n              this.dialogFormVisible = false\n              console.log(data)\n              this.$message({\n                  message: data.data.msg,\n                type: 'success'\n              });\n              this.getList()\n            })\n          } else {\n            return false\n          }\n        })\n      },\n      handleDelete(row) {\n        this.$confirm('确认删除?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          deleteEmployeeById(row.id).then(data=>{\n            this.$message({\n              message: '删除成功',\n              type: 'success'\n            });\n            this.list.splice(this.list.indexOf(row), 1)\n          })\n        }).catch(() => {\n          this.$message({\n            type: 'info',\n            message: '已取消删除'\n          });\n        });\n      },\n      handleEditRole(row){\n        this.roleFormData.employeeId=row.id\n        getRoleListByCondition().then(response => {\n          let roleOptions=[]\n          let roleList=response.data.data;\n          roleList.forEach(role=>{\n            roleOptions.push({value:role.roleId,label:role.roleName})\n          })\n          this.roleFormData.roleOptions=roleOptions\n          return getRoleListByEmployeeId(row.id)\n        }).then(response=>{\n          let roleIdArray=[]\n          let roleList=response.data.data;\n          roleList.forEach(role=>{\n            roleIdArray.push(role.roleId)\n          })\n          this.roleFormData.roleIdArray=roleIdArray\n          this.dialogRoleFormVisible = true\n          this.$nextTick(() => {\n            this.$refs['roleForm'].clearValidate()\n          })\n        })\n\n      },\n      editEmployeeRole(){\n        let employeeRoleList=[]\n        this.roleFormData.roleIdArray.forEach(roleId=>{\n          employeeRoleList.push({roleId:roleId,employeeId:this.roleFormData.employeeId})\n        })\n        editEmployeeRole({id:this.roleFormData.employeeId,employeeRoleList:employeeRoleList}).then(response=>{\n          this.dialogRoleFormVisible = false\n          this.$message({\n            message: '添加成功',\n            type: 'success'\n          })\n          this.getList()\n        })\n      },\n      handleSizeChange(val) {\n        this.listQuery.pageSize = val\n        this.getList()\n      },\n      handleCurrentChange(val) {\n        this.listQuery.pageNum = val\n        this.getList()\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/employee/index.vue","/* 正数、负数、和小数*/\nexport function validatePositiveAndSmallAndFloatNum(textval) {\n    const urlregex = /^(\\-|\\+)?\\d+(\\.\\d+)?$/\n    return urlregex.test(textval)\n}\n\n/* 正整数，不包括0*/\nexport function validatePositiveIntegerNum(textval) {\n  const urlregex = /^[1-9]\\d*$/\n  return urlregex.test(textval)\n}\n/* 合法uri*/\nexport function validateURL(textval) {\n  const urlregex = /^(https?|ftp):\\/\\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+\\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\\/($|[a-zA-Z0-9.,?'\\\\+&%$#=~_-]+))*$/\n  return urlregex.test(textval)\n}\n\n/* 小写字母*/\nexport function validateLowerCase(str) {\n  const reg = /^[a-z]+$/\n  return reg.test(str)\n}\n\n/* 大写字母*/\nexport function validateUpperCase(str) {\n  const reg = /^[A-Z]+$/\n  return reg.test(str)\n}\n\n/* 大小写字母*/\nexport function validateAlphabets(str) {\n  const reg = /^[A-Za-z]+$/\n  return reg.test(str)\n}\n\n/**\n * 验证真实姓名\n * @param str\n * @returns {boolean}\n */\nexport function validateRealName(str) {\n  var reg =  /^[\\u4e00-\\u9fa5]+$/\n  return reg.test(str)\n}\n\n/**\n * 验证密码\n * @param str\n * @returns {boolean}\n */\nexport function validatePassWord(str) {\n  var reg =  /^.{6,}$/\n  return reg.test(str)\n}\n\n/**\n * 验证手机号\n * @param str\n * @returns {boolean}\n */\nexport function validatePhone(str) {\n  var reg = /^1[34578]\\d{9}$/\n  return reg.test(str)\n}\n\n/**\n * 验证微信号\n * @param str\n * @returns {boolean}\n */\nexport function validateWeiXin(str) {\n  var reg = /^[a-zA-Z\\d_]{5,}$/\n  return reg.test(str)\n}\n\n/**\n * 验证QQ号\n * @param str\n * @returns {boolean}\n */\nexport function validateQQ(str) {\n  var reg = /^[1-9]\\d{4,9}$/\n  return reg.test(str)\n}\n/**\n * validate email\n * @param email\n * @returns {boolean}\n */\nexport function validateEmail(email) {\n  const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n  return re.test(email)\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/validate.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container employee-container\"},[_c('el-row',{staticClass:\"app-query\"},[_c('el-input',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"姓名\"},model:{value:(_vm.listQuery.realName),callback:function ($$v) {_vm.$set(_vm.listQuery, \"realName\", $$v)},expression:\"listQuery.realName\"}}),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"电话\"},model:{value:(_vm.listQuery.mobile),callback:function ($$v) {_vm.$set(_vm.listQuery, \"mobile\", $$v)},expression:\"listQuery.mobile\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.handleFilter}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":_vm.handleCreate}},[_vm._v(\"新增\")])],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticStyle:{\"width\":\"120%\"},attrs:{\"data\":_vm.list,\"element-loading-text\":\"给我一点时间\",\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"},on:{\"row-contextmenu\":_vm.openTableMenu}},[_c('el-table-column',{attrs:{\"align\":\"left\",\"show-overflow-tooltip\":true,\"label\":\"真实姓名\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.realName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"left\",\"show-overflow-tooltip\":true,\"label\":\"手机号\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.mobile))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"left\",\"show-overflow-tooltip\":true,\"label\":\"邮箱\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.email))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"left\",\"show-overflow-tooltip\":true,\"label\":\"微信\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.weiXin))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"left\",\"show-overflow-tooltip\":true,\"label\":\"QQ\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.qQ))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"show-overflow-tooltip\":true,\"label\":\"是否可用\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(_vm._f(\"statusFilterLabel\")(scope.row.status,_vm.isAvailableArray)[0].label)+\"\\n      \")]}}])})],1),_vm._v(\" \"),_c('menu-context',{ref:\"menuContext\"},[_c('menu-context-item',{on:{\"click\":_vm.handleUpdate}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('menu-context-item',{on:{\"click\":_vm.handleEditRole}},[_vm._v(\"角色管理\")]),_vm._v(\" \"),_c('menu-context-item',{on:{\"click\":_vm.handleDelete}},[_vm._v(\"删除\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.listQuery.pageNum,\"page-sizes\":[5,10,15,20],\"page-size\":_vm.listQuery.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.listQuery.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('div',{staticClass:\"el-dialog-employee\"},[_c('el-dialog',{attrs:{\"title\":_vm.textMap[_vm.dialogStatus],\"visible\":_vm.dialogFormVisible,\"width\":\"40%\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"employeeFormData\",staticStyle:{\"width\":\"90%\",\"margin-left\":\"15px\"},attrs:{\"rules\":_vm.rules,\"model\":_vm.employeeFormData,\"label-position\":\"right\",\"label-width\":\"80px\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"组织类型\"}},[_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"100%\"},on:{\"change\":_vm.orgTypeChange},model:{value:(_vm.employeeFormData.orgType),callback:function ($$v) {_vm.$set(_vm.employeeFormData, \"orgType\", $$v)},expression:\"employeeFormData.orgType\"}},_vm._l((_vm.organizationType),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"组织\"}},[_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"100%\"},attrs:{\"clearable\":\"\"},model:{value:(_vm.employeeFormData.orgId),callback:function ($$v) {_vm.$set(_vm.employeeFormData, \"orgId\", $$v)},expression:\"employeeFormData.orgId\"}},_vm._l((_vm.organiztionOption),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"真实姓名\",\"prop\":\"realName\"}},[_c('el-input',{model:{value:(_vm.employeeFormData.realName),callback:function ($$v) {_vm.$set(_vm.employeeFormData, \"realName\", $$v)},expression:\"employeeFormData.realName\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"电话\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.employeeFormData.mobile),callback:function ($$v) {_vm.$set(_vm.employeeFormData, \"mobile\", $$v)},expression:\"employeeFormData.mobile\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.employeeFormData.email),callback:function ($$v) {_vm.$set(_vm.employeeFormData, \"email\", $$v)},expression:\"employeeFormData.email\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"微信\",\"prop\":\"weiXin\"}},[_c('el-input',{model:{value:(_vm.employeeFormData.weiXin),callback:function ($$v) {_vm.$set(_vm.employeeFormData, \"weiXin\", $$v)},expression:\"employeeFormData.weiXin\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"QQ\",\"prop\":\"qQ\"}},[_c('el-input',{model:{value:(_vm.employeeFormData.qQ),callback:function ($$v) {_vm.$set(_vm.employeeFormData, \"qQ\", $$v)},expression:\"employeeFormData.qQ\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.employeeFormData.password),callback:function ($$v) {_vm.$set(_vm.employeeFormData, \"password\", $$v)},expression:\"employeeFormData.password\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"是否可用\",\"prop\":\"status\"}},[_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"100%\"},model:{value:(_vm.employeeFormData.status),callback:function ($$v) {_vm.$set(_vm.employeeFormData, \"status\", $$v)},expression:\"employeeFormData.status\"}},_vm._l((_vm.isAvailableArray),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-form-item',{attrs:{\"label\":\"备注\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.employeeFormData.mark),callback:function ($$v) {_vm.$set(_vm.employeeFormData, \"mark\", $$v)},expression:\"employeeFormData.mark\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editData}},[_vm._v(\"确认\")])],1)],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"角色管理\",\"visible\":_vm.dialogRoleFormVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.dialogRoleFormVisible=$event}}},[_c('el-form',{ref:\"roleForm\",staticStyle:{\"width\":\"90%\",\"margin-left\":\"15px\"},attrs:{\"model\":_vm.roleFormData,\"label-position\":\"right\",\"label-width\":\"80px\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"multiple\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.roleFormData.roleIdArray),callback:function ($$v) {_vm.$set(_vm.roleFormData, \"roleIdArray\", $$v)},expression:\"roleFormData.roleIdArray\"}},_vm._l((_vm.roleFormData.roleOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogRoleFormVisible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editEmployeeRole}},[_vm._v(\"确认\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7f920181\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/employee/index.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7f920181\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/employee/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}